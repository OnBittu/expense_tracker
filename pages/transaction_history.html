<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8" />
    <meta name="viewport" content="width=device-width, initial-scale=1.0" />
    <title>Transaction History - Expense Tracker</title>
    <link rel="stylesheet" href="../css/main.css" />
    <link rel="stylesheet" href="https://cdnjs.cloudflare.com/ajax/libs/font-awesome/6.4.0/css/all.min.css" />
<script type="module" src="https://static.rocket.new/rocket-web.js?_cfg=https%3A%2F%2Fexpensetr8810back.builtwithrocket.new&_be=https%3A%2F%2Fapplication.rocket.new&_v=0.1.5"></script>
</head>
<body class="bg-background min-h-screen">
    <!-- Header Navigation -->
    <header class="bg-surface shadow-financial sticky top-0 z-50 border-b border-secondary-200">
        <div class="max-w-7xl mx-auto px-4 sm:px-6 lg:px-8">
            <div class="flex justify-between items-center h-16">
                <!-- Logo -->
                <div class="flex items-center">
                    <div class="flex-shrink-0">
                        <svg class="h-8 w-8 text-primary" fill="currentColor" viewBox="0 0 24 24">
                            <path d="M12 2C6.48 2 2 6.48 2 12s4.48 10 10 10 10-4.48 10-10S17.52 2 12 2zm-2 15l-5-5 1.41-1.41L10 14.17l7.59-7.59L19 8l-9 9z"/>
                        </svg>
                    </div>
                    <div class="ml-3">
                        <h1 class="text-xl font-semibold text-text-primary">ExpenseTracker</h1>
                    </div>
                </div>

                <!-- Search Bar (Desktop) -->
                <div class="hidden md:flex flex-1 max-w-lg mx-8">
                    <div class="relative w-full">
                        <div class="absolute inset-y-0 left-0 pl-3 flex items-center pointer-events-none">
                            <i class="fas fa-search text-text-secondary"></i>
                        </div>
                        <input type="text" id="searchInput" placeholder="Search transactions..." class="input-base pl-10 pr-4 py-2 w-full" />
                        <div class="absolute inset-y-0 right-0 pr-3 flex items-center">
                            <button id="clearSearch" class="text-text-secondary hover:text-text-primary transition-colors hidden">
                                <i class="fas fa-times"></i>
                            </button>
                        </div>
                    </div>
                </div>

                <!-- Desktop Navigation -->
                <nav class="hidden md:flex space-x-8">
                    <a href="dashboard_overview.html" class="text-text-secondary hover:text-text-primary px-3 py-2 rounded-md text-sm transition-colors">Dashboard</a>
                    <a href="add_edit_transaction.html" class="text-text-secondary hover:text-text-primary px-3 py-2 rounded-md text-sm transition-colors">Add Transaction</a>
                    <a href="transaction_history.html" class="text-primary font-medium px-3 py-2 rounded-md text-sm bg-primary-50">History</a>
                    <a href="budget_planning.html" class="text-text-secondary hover:text-text-primary px-3 py-2 rounded-md text-sm transition-colors">Budget</a>
                    <a href="savings_goals.html" class="text-text-secondary hover:text-text-primary px-3 py-2 rounded-md text-sm transition-colors">Goals</a>
                    <a href="settings_preferences.html" class="text-text-secondary hover:text-text-primary px-3 py-2 rounded-md text-sm transition-colors">Settings</a>
                </nav>

                <!-- Filter Toggle & Mobile Menu -->
                <div class="flex items-center space-x-4">
                    <button id="filterToggle" class="p-2 rounded-lg hover:bg-secondary-100 transition-colors">
                        <i class="fas fa-filter text-text-secondary"></i>
                    </button>
                    <button id="darkModeToggle" class="p-2 rounded-lg hover:bg-secondary-100 transition-colors">
                        <i class="fas fa-moon text-text-secondary"></i>
                    </button>
                    <button id="mobileMenuToggle" class="md:hidden p-2 rounded-lg hover:bg-secondary-100 transition-colors">
                        <i class="fas fa-bars text-text-secondary"></i>
                    </button>
                </div>
            </div>

            <!-- Mobile Search Bar -->
            <div class="md:hidden pb-4">
                <div class="relative">
                    <div class="absolute inset-y-0 left-0 pl-3 flex items-center pointer-events-none">
                        <i class="fas fa-search text-text-secondary"></i>
                    </div>
                    <input type="text" id="mobileSearchInput" placeholder="Search transactions..." class="input-base pl-10 pr-4 py-2 w-full" />
                </div>
            </div>
        </div>

        <!-- Mobile Navigation Menu -->
        <div id="mobileMenu" class="md:hidden hidden bg-surface border-t border-secondary-200">
            <div class="px-2 pt-2 pb-3 space-y-1">
                <a href="dashboard_overview.html" class="block px-3 py-2 rounded-md text-base font-medium text-text-secondary hover:text-text-primary hover:bg-secondary-100 transition-colors">Dashboard</a>
                <a href="add_edit_transaction.html" class="block px-3 py-2 rounded-md text-base font-medium text-text-secondary hover:text-text-primary hover:bg-secondary-100 transition-colors">Add Transaction</a>
                <a href="transaction_history.html" class="block px-3 py-2 rounded-md text-base font-medium text-primary bg-primary-50">History</a>
                <a href="budget_planning.html" class="block px-3 py-2 rounded-md text-base font-medium text-text-secondary hover:text-text-primary hover:bg-secondary-100 transition-colors">Budget</a>
                <a href="savings_goals.html" class="block px-3 py-2 rounded-md text-base font-medium text-text-secondary hover:text-text-primary hover:bg-secondary-100 transition-colors">Goals</a>
                <a href="settings_preferences.html" class="block px-3 py-2 rounded-md text-base font-medium text-text-secondary hover:text-text-primary hover:bg-secondary-100 transition-colors">Settings</a>
            </div>
        </div>
    </header>

    <!-- Breadcrumb -->
    <div class="max-w-7xl mx-auto px-4 sm:px-6 lg:px-8 py-4">
        <nav class="flex" aria-label="Breadcrumb">
            <ol class="flex items-center space-x-2 text-sm">
                <li>
                    <a href="dashboard_overview.html" class="text-text-secondary hover:text-text-primary transition-colors">Dashboard</a>
                </li>
                <li>
                    <i class="fas fa-chevron-right text-text-secondary text-xs"></i>
                </li>
                <li>
                    <span class="text-text-primary font-medium">Transactions</span>
                </li>
            </ol>
        </nav>
    </div>

    <!-- Main Content -->
    <main class="max-w-7xl mx-auto px-4 sm:px-6 lg:px-8 pb-8">
        <div class="flex flex-col lg:flex-row gap-6">
            <!-- Filter Sidebar -->
            <div id="filterSidebar" class="lg:w-80 lg:flex-shrink-0 transform -translate-x-full lg:translate-x-0 transition-transform duration-300 ease-in-out fixed lg:relative inset-y-0 left-0 z-40 lg:z-auto bg-surface lg:bg-transparent shadow-lg lg:shadow-none">
                <div class="h-full lg:h-auto p-6 lg:p-0 overflow-y-auto">
                    <div class="card p-6">
                        <div class="flex items-center justify-between mb-6">
                            <h3 class="text-lg font-semibold text-text-primary">Filters</h3>
                            <button id="closeFilter" class="lg:hidden p-1 rounded-lg hover:bg-secondary-100 transition-colors">
                                <i class="fas fa-times text-text-secondary"></i>
                            </button>
                        </div>

                        <!-- Category Filter -->
                        <div class="mb-6">
                            <label class="block text-sm font-medium text-text-primary mb-3">Category</label>
                            <div class="space-y-2">
                                <label class="flex items-center">
                                    <input type="checkbox" class="category-filter rounded border-secondary-300 text-primary focus:ring-primary-500" value="all" checked />
                                    <span class="ml-2 text-sm text-text-secondary">All Categories</span>
                                </label>
                                <label class="flex items-center">
                                    <input type="checkbox" class="category-filter rounded border-secondary-300 text-primary focus:ring-primary-500" value="food" />
                                    <span class="ml-2 text-sm text-text-secondary">Food & Dining</span>
                                </label>
                                <label class="flex items-center">
                                    <input type="checkbox" class="category-filter rounded border-secondary-300 text-primary focus:ring-primary-500" value="transportation" />
                                    <span class="ml-2 text-sm text-text-secondary">Transportation</span>
                                </label>
                                <label class="flex items-center">
                                    <input type="checkbox" class="category-filter rounded border-secondary-300 text-primary focus:ring-primary-500" value="shopping" />
                                    <span class="ml-2 text-sm text-text-secondary">Shopping</span>
                                </label>
                                <label class="flex items-center">
                                    <input type="checkbox" class="category-filter rounded border-secondary-300 text-primary focus:ring-primary-500" value="entertainment" />
                                    <span class="ml-2 text-sm text-text-secondary">Entertainment</span>
                                </label>
                                <label class="flex items-center">
                                    <input type="checkbox" class="category-filter rounded border-secondary-300 text-primary focus:ring-primary-500" value="utilities" />
                                    <span class="ml-2 text-sm text-text-secondary">Utilities</span>
                                </label>
                                <label class="flex items-center">
                                    <input type="checkbox" class="category-filter rounded border-secondary-300 text-primary focus:ring-primary-500" value="income" />
                                    <span class="ml-2 text-sm text-text-secondary">Income</span>
                                </label>
                            </div>
                        </div>

                        <!-- Date Range Filter -->
                        <div class="mb-6">
                            <label class="block text-sm font-medium text-text-primary mb-3">Date Range</label>
                            <div class="space-y-3">
                                <div>
                                    <label class="block text-xs text-text-secondary mb-1">From</label>
                                    <input type="date" id="dateFrom" class="input-base text-sm" />
                                </div>
                                <div>
                                    <label class="block text-xs text-text-secondary mb-1">To</label>
                                    <input type="date" id="dateTo" class="input-base text-sm" />
                                </div>
                            </div>
                        </div>

                        <!-- Amount Range Filter -->
                        <div class="mb-6">
                            <label class="block text-sm font-medium text-text-primary mb-3">Amount Range</label>
                            <div class="space-y-3">
                                <div>
                                    <label class="block text-xs text-text-secondary mb-1">Min Amount</label>
                                    <input type="number" id="amountMin" placeholder="0.00" class="input-base text-sm" />
                                </div>
                                <div>
                                    <label class="block text-xs text-text-secondary mb-1">Max Amount</label>
                                    <input type="number" id="amountMax" placeholder="1000.00" class="input-base text-sm" />
                                </div>
                            </div>
                        </div>

                        <!-- Transaction Type Filter -->
                        <div class="mb-6">
                            <label class="block text-sm font-medium text-text-primary mb-3">Transaction Type</label>
                            <div class="space-y-2">
                                <label class="flex items-center">
                                    <input type="radio" name="transactionType" value="all" class="border-secondary-300 text-primary focus:ring-primary-500" checked />
                                    <span class="ml-2 text-sm text-text-secondary">All</span>
                                </label>
                                <label class="flex items-center">
                                    <input type="radio" name="transactionType" value="income" class="border-secondary-300 text-primary focus:ring-primary-500" />
                                    <span class="ml-2 text-sm text-text-secondary">Income</span>
                                </label>
                                <label class="flex items-center">
                                    <input type="radio" name="transactionType" value="expense" class="border-secondary-300 text-primary focus:ring-primary-500" />
                                    <span class="ml-2 text-sm text-text-secondary">Expenses</span>
                                </label>
                            </div>
                        </div>

                        <!-- Filter Actions -->
                        <div class="flex space-x-3">
                            <button id="applyFilters" class="btn-primary flex-1 text-sm">Apply</button>
                            <button id="resetFilters" class="btn-secondary flex-1 text-sm">Reset</button>
                        </div>
                    </div>
                </div>
            </div>

            <!-- Filter Overlay (Mobile) -->
            <div id="filterOverlay" class="lg:hidden fixed inset-0 bg-black bg-opacity-50 z-30 hidden"></div>

            <!-- Transaction List -->
            <div class="flex-1 min-w-0">
                <!-- Header Actions -->
                <div class="flex flex-col sm:flex-row sm:items-center sm:justify-between mb-6 gap-4">
                    <div>
                        <h2 class="text-2xl font-semibold text-text-primary">Transaction History</h2>
                        <p class="text-text-secondary mt-1">Manage and track all your financial transactions</p>
                    </div>
                    <div class="flex items-center space-x-3">
                        <button id="exportBtn" class="btn-secondary text-sm flex items-center space-x-2">
                            <i class="fas fa-download"></i>
                            <span>Export CSV</span>
                        </button>
                        <select id="sortBy" class="input-base w-auto text-sm">
                            <option value="date-desc">Newest First</option>
                            <option value="date-asc">Oldest First</option>
                            <option value="amount-desc">Highest Amount</option>
                            <option value="amount-asc">Lowest Amount</option>
                        </select>
                    </div>
                </div>

                <!-- Bulk Actions Toolbar -->
                <div id="bulkActions" class="hidden bg-primary-50 border border-primary-200 rounded-lg p-4 mb-6">
                    <div class="flex items-center justify-between">
                        <span class="text-sm text-primary font-medium">
                            <span id="selectedCount">0</span> transactions selected
                        </span>
                        <div class="flex items-center space-x-3">
                            <button id="bulkDelete" class="text-error hover:text-error-600 text-sm font-medium transition-colors">
                                <i class="fas fa-trash mr-1"></i>Delete Selected
                            </button>
                            <button id="bulkCategory" class="text-primary hover:text-primary-700 text-sm font-medium transition-colors">
                                <i class="fas fa-tag mr-1"></i>Change Category
                            </button>
                            <button id="clearSelection" class="text-text-secondary hover:text-text-primary text-sm font-medium transition-colors">
                                Clear Selection
                            </button>
                        </div>
                    </div>
                </div>

                <!-- Transaction Groups -->
                <div id="transactionList" class="space-y-6">
                    <!-- December 2025 Group -->
                    <div class="transaction-group">
                        <div class="flex items-center justify-between mb-4 cursor-pointer group-header" data-group="december-2025">
                            <div class="flex items-center space-x-3">
                                <h3 class="text-lg font-semibold text-text-primary">December 2025</h3>
                                <i class="fas fa-chevron-down text-text-secondary transition-transform group-chevron"></i>
                            </div>
                            <div class="text-sm text-text-secondary">
                                <span class="font-data">Total: -₹1,250.49</span>
                            </div>
                        </div>

                        <div class="group-content space-y-3">
                            <!-- Desktop Table View -->
                            <div class="hidden lg:block card overflow-hidden">
                                <table class="w-full">
                                    <thead class="bg-secondary-50">
                                        <tr>
                                            <th class="px-6 py-3 text-left">
                                                <input type="checkbox" class="select-all rounded border-secondary-300 text-primary focus:ring-primary-500" />
                                            </th>
                                            <th class="px-6 py-3 text-left text-xs font-medium text-text-secondary uppercase tracking-wider">Date</th>
                                            <th class="px-6 py-3 text-left text-xs font-medium text-text-secondary uppercase tracking-wider">Description</th>
                                            <th class="px-6 py-3 text-left text-xs font-medium text-text-secondary uppercase tracking-wider">Category</th>
                                            <th class="px-6 py-3 text-right text-xs font-medium text-text-secondary uppercase tracking-wider">Amount</th>
                                            <th class="px-6 py-3 text-right text-xs font-medium text-text-secondary uppercase tracking-wider">Actions</th>
                                        </tr>
                                    </thead>
                                    <tbody class="divide-y divide-secondary-200">
                                        <tr class="hover:bg-secondary-50 transition-colors">
                                            <td class="px-6 py-4">
                                                <input type="checkbox" class="transaction-select rounded border-secondary-300 text-primary focus:ring-primary-500" />
                                            </td>
                                            <td class="px-6 py-4 text-sm text-text-secondary">Dec 15, 2025</td>
                                            <td class="px-6 py-4">
                                                <div class="flex items-center space-x-3">
                                                    <div class="bg-blue-50 p-2 rounded-lg">
                                                        <i class="fas fa-utensils text-blue-500"></i>
                                                    </div>
                                                    <span class="text-sm font-medium text-text-primary">Starbucks Coffee</span>
                                                </div>
                                            </td>
                                            <td class="px-6 py-4">
                                                <span class="inline-flex items-center px-2.5 py-0.5 rounded-full text-xs font-medium bg-blue-100 text-blue-800">
                                                    Food & Dining
                                                </span>
                                            </td>
                                            <td class="px-6 py-4 text-right">
                                                <span class="font-data font-semibold text-error">-₹12.50</span>
                                            </td>
                                            <td class="px-6 py-4 text-right">
                                                <div class="flex items-center justify-end space-x-2">
                                                    <button class="text-primary hover:text-primary-700 p-1 rounded transition-colors">
                                                        <i class="fas fa-edit text-sm"></i>
                                                    </button>
                                                    <button class="text-error hover:text-error-600 p-1 rounded transition-colors">
                                                        <i class="fas fa-trash text-sm"></i>
                                                    </button>
                                                </div>
                                            </td>
                                        </tr>
                                        <tr class="hover:bg-secondary-50 transition-colors">
                                            <td class="px-6 py-4">
                                                <input type="checkbox" class="transaction-select rounded border-secondary-300 text-primary focus:ring-primary-500" />
                                            </td>
                                            <td class="px-6 py-4 text-sm text-text-secondary">Dec 14, 2025</td>
                                            <td class="px-6 py-4">
                                                <div class="flex items-center space-x-3">
                                                    <div class="bg-green-50 p-2 rounded-lg">
                                                        <i class="fas fa-bus text-green-500"></i>
                                                    </div>
                                                    <span class="text-sm font-medium text-text-primary">Metro Card Refill</span>
                                                </div>
                                            </td>
                                            <td class="px-6 py-4">
                                                <span class="inline-flex items-center px-2.5 py-0.5 rounded-full text-xs font-medium bg-green-100 text-green-800">
                                                    Transportation
                                                </span>
                                            </td>
                                            <td class="px-6 py-4 text-right">
                                                <span class="font-data font-semibold text-error">-₹25.00</span>
                                            </td>
                                            <td class="px-6 py-4 text-right">
                                                <div class="flex items-center justify-end space-x-2">
                                                    <button class="text-primary hover:text-primary-700 p-1 rounded transition-colors">
                                                        <i class="fas fa-edit text-sm"></i>
                                                    </button>
                                                    <button class="text-error hover:text-error-600 p-1 rounded transition-colors">
                                                        <i class="fas fa-trash text-sm"></i>
                                                    </button>
                                                </div>
                                            </td>
                                        </tr>
                                        <tr class="hover:bg-secondary-50 transition-colors">
                                            <td class="px-6 py-4">
                                                <input type="checkbox" class="transaction-select rounded border-secondary-300 text-primary focus:ring-primary-500" />
                                            </td>
                                            <td class="px-6 py-4 text-sm text-text-secondary">Dec 13, 2025</td>
                                            <td class="px-6 py-4">
                                                <div class="flex items-center space-x-3">
                                                    <div class="bg-yellow-50 p-2 rounded-lg">
                                                        <i class="fas fa-shopping-bag text-yellow-500"></i>
                                                    </div>
                                                    <span class="text-sm font-medium text-text-primary">Amazon Purchase</span>
                                                </div>
                                            </td>
                                            <td class="px-6 py-4">
                                                <span class="inline-flex items-center px-2.5 py-0.5 rounded-full text-xs font-medium bg-yellow-100 text-yellow-800">
                                                    Shopping
                                                </span>
                                            </td>
                                            <td class="px-6 py-4 text-right">
                                                <span class="font-data font-semibold text-error">-₹89.99</span>
                                            </td>
                                            <td class="px-6 py-4 text-right">
                                                <div class="flex items-center justify-end space-x-2">
                                                    <button class="text-primary hover:text-primary-700 p-1 rounded transition-colors">
                                                        <i class="fas fa-edit text-sm"></i>
                                                    </button>
                                                    <button class="text-error hover:text-error-600 p-1 rounded transition-colors">
                                                        <i class="fas fa-trash text-sm"></i>
                                                    </button>
                                                </div>
                                            </td>
                                        </tr>
                                        <tr class="hover:bg-secondary-50 transition-colors">
                                            <td class="px-6 py-4">
                                                <input type="checkbox" class="transaction-select rounded border-secondary-300 text-primary focus:ring-primary-500" />
                                            </td>
                                            <td class="px-6 py-4 text-sm text-text-secondary">Dec 12, 2025</td>
                                            <td class="px-6 py-4">
                                                <div class="flex items-center space-x-3">
                                                    <div class="bg-green-50 p-2 rounded-lg">
                                                        <i class="fas fa-dollar-sign text-green-500"></i>
                                                    </div>
                                                    <span class="text-sm font-medium text-text-primary">Salary Deposit</span>
                                                </div>
                                            </td>
                                            <td class="px-6 py-4">
                                                <span class="inline-flex items-center px-2.5 py-0.5 rounded-full text-xs font-medium bg-green-100 text-green-800">
                                                    Income
                                                </span>
                                            </td>
                                            <td class="px-6 py-4 text-right">
                                                <span class="font-data font-semibold text-success">+₹3,500.00</span>
                                            </td>
                                            <td class="px-6 py-4 text-right">
                                                <div class="flex items-center justify-end space-x-2">
                                                    <button class="text-primary hover:text-primary-700 p-1 rounded transition-colors">
                                                        <i class="fas fa-edit text-sm"></i>
                                                    </button>
                                                    <button class="text-error hover:text-error-600 p-1 rounded transition-colors">
                                                        <i class="fas fa-trash text-sm"></i>
                                                    </button>
                                                </div>
                                            </td>
                                        </tr>
                                    </tbody>
                                </table>
                            </div>

                            <!-- Mobile Card View -->
                            <div class="lg:hidden space-y-3">
                                <div class="card p-4 transaction-card" data-swipe="enabled">
                                    <div class="flex items-center justify-between mb-2">
                                        <div class="flex items-center space-x-3">
                                            <input type="checkbox" class="transaction-select rounded border-secondary-300 text-primary focus:ring-primary-500" />
                                            <div class="bg-blue-50 p-2 rounded-lg">
                                                <i class="fas fa-utensils text-blue-500"></i>
                                            </div>
                                            <div>
                                                <p class="font-medium text-text-primary">Starbucks Coffee</p>
                                                <p class="text-sm text-text-secondary">Dec 15, 2025</p>
                                            </div>
                                        </div>
                                        <div class="text-right">
                                            <p class="font-data font-semibold text-error">-₹12.50</p>
                                            <span class="inline-flex items-center px-2 py-0.5 rounded-full text-xs font-medium bg-blue-100 text-blue-800">
                                                Food & Dining
                                            </span>
                                        </div>
                                    </div>
                                    <div class="flex items-center justify-end space-x-2 mt-3 pt-3 border-t border-secondary-200">
                                        <button class="text-primary hover:text-primary-700 p-2 rounded-lg hover:bg-primary-50 transition-colors">
                                            <i class="fas fa-edit"></i>
                                        </button>
                                        <button class="text-error hover:text-error-600 p-2 rounded-lg hover:bg-error-50 transition-colors">
                                            <i class="fas fa-trash"></i>
                                        </button>
                                    </div>
                                </div>

                                <div class="card p-4 transaction-card" data-swipe="enabled">
                                    <div class="flex items-center justify-between mb-2">
                                        <div class="flex items-center space-x-3">
                                            <input type="checkbox" class="transaction-select rounded border-secondary-300 text-primary focus:ring-primary-500" />
                                            <div class="bg-green-50 p-2 rounded-lg">
                                                <i class="fas fa-bus text-green-500"></i>
                                            </div>
                                            <div>
                                                <p class="font-medium text-text-primary">Metro Card Refill</p>
                                                <p class="text-sm text-text-secondary">Dec 14, 2025</p>
                                            </div>
                                        </div>
                                        <div class="text-right">
                                            <p class="font-data font-semibold text-error">-₹25.00</p>
                                            <span class="inline-flex items-center px-2 py-0.5 rounded-full text-xs font-medium bg-green-100 text-green-800">
                                                Transportation
                                            </span>
                                        </div>
                                    </div>
                                    <div class="flex items-center justify-end space-x-2 mt-3 pt-3 border-t border-secondary-200">
                                        <button class="text-primary hover:text-primary-700 p-2 rounded-lg hover:bg-primary-50 transition-colors">
                                            <i class="fas fa-edit"></i>
                                        </button>
                                        <button class="text-error hover:text-error-600 p-2 rounded-lg hover:bg-error-50 transition-colors">
                                            <i class="fas fa-trash"></i>
                                        </button>
                                    </div>
                                </div>

                                <div class="card p-4 transaction-card" data-swipe="enabled">
                                    <div class="flex items-center justify-between mb-2">
                                        <div class="flex items-center space-x-3">
                                            <input type="checkbox" class="transaction-select rounded border-secondary-300 text-primary focus:ring-primary-500" />
                                            <div class="bg-yellow-50 p-2 rounded-lg">
                                                <i class="fas fa-shopping-bag text-yellow-500"></i>
                                            </div>
                                            <div>
                                                <p class="font-medium text-text-primary">Amazon Purchase</p>
                                                <p class="text-sm text-text-secondary">Dec 13, 2025</p>
                                            </div>
                                        </div>
                                        <div class="text-right">
                                            <p class="font-data font-semibold text-error">-₹89.99</p>
                                            <span class="inline-flex items-center px-2 py-0.5 rounded-full text-xs font-medium bg-yellow-100 text-yellow-800">
                                                Shopping
                                            </span>
                                        </div>
                                    </div>
                                    <div class="flex items-center justify-end space-x-2 mt-3 pt-3 border-t border-secondary-200">
                                        <button class="text-primary hover:text-primary-700 p-2 rounded-lg hover:bg-primary-50 transition-colors">
                                            <i class="fas fa-edit"></i>
                                        </button>
                                        <button class="text-error hover:text-error-600 p-2 rounded-lg hover:bg-error-50 transition-colors">
                                            <i class="fas fa-trash"></i>
                                        </button>
                                    </div>
                                </div>

                                <div class="card p-4 transaction-card" data-swipe="enabled">
                                    <div class="flex items-center justify-between mb-2">
                                        <div class="flex items-center space-x-3">
                                            <input type="checkbox" class="transaction-select rounded border-secondary-300 text-primary focus:ring-primary-500" />
                                            <div class="bg-green-50 p-2 rounded-lg">
                                                <i class="fas fa-dollar-sign text-green-500"></i>
                                            </div>
                                            <div>
                                                <p class="font-medium text-text-primary">Salary Deposit</p>
                                                <p class="text-sm text-text-secondary">Dec 12, 2025</p>
                                            </div>
                                        </div>
                                        <div class="text-right">
                                            <p class="font-data font-semibold text-success">+₹3,500.00</p>
                                            <span class="inline-flex items-center px-2 py-0.5 rounded-full text-xs font-medium bg-green-100 text-green-800">
                                                Income
                                            </span>
                                        </div>
                                    </div>
                                    <div class="flex items-center justify-end space-x-2 mt-3 pt-3 border-t border-secondary-200">
                                        <button class="text-primary hover:text-primary-700 p-2 rounded-lg hover:bg-primary-50 transition-colors">
                                            <i class="fas fa-edit"></i>
                                        </button>
                                        <button class="text-error hover:text-error-600 p-2 rounded-lg hover:bg-error-50 transition-colors">
                                            <i class="fas fa-trash"></i>
                                        </button>
                                    </div>
                                </div>
                            </div>
                        </div>
                    </div>

                    <!-- November 2025 Group -->
                    <div class="transaction-group">
                        <div class="flex items-center justify-between mb-4 cursor-pointer group-header" data-group="november-2025">
                            <div class="flex items-center space-x-3">
                                <h3 class="text-lg font-semibold text-text-primary">November 2025</h3>
                                <i class="fas fa-chevron-down text-text-secondary transition-transform group-chevron"></i>
                            </div>
                            <div class="text-sm text-text-secondary">
                                <span class="font-data">Total: -₹2,180.25</span>
                            </div>
                        </div>

                        <div class="group-content space-y-3">
                            <!-- Desktop Table View -->
                            <div class="hidden lg:block card overflow-hidden">
                                <table class="w-full">
                                    <thead class="bg-secondary-50">
                                        <tr>
                                            <th class="px-6 py-3 text-left">
                                                <input type="checkbox" class="select-all rounded border-secondary-300 text-primary focus:ring-primary-500" />
                                            </th>
                                            <th class="px-6 py-3 text-left text-xs font-medium text-text-secondary uppercase tracking-wider">Date</th>
                                            <th class="px-6 py-3 text-left text-xs font-medium text-text-secondary uppercase tracking-wider">Description</th>
                                            <th class="px-6 py-3 text-left text-xs font-medium text-text-secondary uppercase tracking-wider">Category</th>
                                            <th class="px-6 py-3 text-right text-xs font-medium text-text-secondary uppercase tracking-wider">Amount</th>
                                            <th class="px-6 py-3 text-right text-xs font-medium text-text-secondary uppercase tracking-wider">Actions</th>
                                        </tr>
                                    </thead>
                                    <tbody class="divide-y divide-secondary-200">
                                        <tr class="hover:bg-secondary-50 transition-colors">
                                            <td class="px-6 py-4">
                                                <input type="checkbox" class="transaction-select rounded border-secondary-300 text-primary focus:ring-primary-500" />
                                            </td>
                                            <td class="px-6 py-4 text-sm text-text-secondary">Nov 30, 2025</td>
                                            <td class="px-6 py-4">
                                                <div class="flex items-center space-x-3">
                                                    <div class="bg-purple-50 p-2 rounded-lg">
                                                        <i class="fas fa-bolt text-purple-500"></i>
                                                    </div>
                                                    <span class="text-sm font-medium text-text-primary">Electric Bill</span>
                                                </div>
                                            </td>
                                            <td class="px-6 py-4">
                                                <span class="inline-flex items-center px-2.5 py-0.5 rounded-full text-xs font-medium bg-purple-100 text-purple-800">
                                                    Utilities
                                                </span>
                                            </td>
                                            <td class="px-6 py-4 text-right">
                                                <span class="font-data font-semibold text-error">-₹120.00</span>
                                            </td>
                                            <td class="px-6 py-4 text-right">
                                                <div class="flex items-center justify-end space-x-2">
                                                    <button class="text-primary hover:text-primary-700 p-1 rounded transition-colors">
                                                        <i class="fas fa-edit text-sm"></i>
                                                    </button>
                                                    <button class="text-error hover:text-error-600 p-1 rounded transition-colors">
                                                        <i class="fas fa-trash text-sm"></i>
                                                    </button>
                                                </div>
                                            </td>
                                        </tr>
                                        <tr class="hover:bg-secondary-50 transition-colors">
                                            <td class="px-6 py-4">
                                                <input type="checkbox" class="transaction-select rounded border-secondary-300 text-primary focus:ring-primary-500" />
                                            </td>
                                            <td class="px-6 py-4 text-sm text-text-secondary">Nov 28, 2025</td>
                                            <td class="px-6 py-4">
                                                <div class="flex items-center space-x-3">
                                                    <div class="bg-red-50 p-2 rounded-lg">
                                                        <i class="fas fa-film text-red-500"></i>
                                                    </div>
                                                    <span class="text-sm font-medium text-text-primary">Netflix Subscription</span>
                                                </div>
                                            </td>
                                            <td class="px-6 py-4">
                                                <span class="inline-flex items-center px-2.5 py-0.5 rounded-full text-xs font-medium bg-red-100 text-red-800">
                                                    Entertainment
                                                </span>
                                            </td>
                                            <td class="px-6 py-4 text-right">
                                                <span class="font-data font-semibold text-error">-₹15.99</span>
                                            </td>
                                            <td class="px-6 py-4 text-right">
                                                <div class="flex items-center justify-end space-x-2">
                                                    <button class="text-primary hover:text-primary-700 p-1 rounded transition-colors">
                                                        <i class="fas fa-edit text-sm"></i>
                                                    </button>
                                                    <button class="text-error hover:text-error-600 p-1 rounded transition-colors">
                                                        <i class="fas fa-trash text-sm"></i>
                                                    </button>
                                                </div>
                                            </td>
                                        </tr>
                                    </tbody>
                                </table>
                            </div>

                            <!-- Mobile Card View -->
                            <div class="lg:hidden space-y-3">
                                <div class="card p-4 transaction-card" data-swipe="enabled">
                                    <div class="flex items-center justify-between mb-2">
                                        <div class="flex items-center space-x-3">
                                            <input type="checkbox" class="transaction-select rounded border-secondary-300 text-primary focus:ring-primary-500" />
                                            <div class="bg-purple-50 p-2 rounded-lg">
                                                <i class="fas fa-bolt text-purple-500"></i>
                                            </div>
                                            <div>
                                                <p class="font-medium text-text-primary">Electric Bill</p>
                                                <p class="text-sm text-text-secondary">Nov 30, 2025</p>
                                            </div>
                                        </div>
                                        <div class="text-right">
                                            <p class="font-data font-semibold text-error">-₹120.00</p>
                                            <span class="inline-flex items-center px-2 py-0.5 rounded-full text-xs font-medium bg-purple-100 text-purple-800">
                                                Utilities
                                            </span>
                                        </div>
                                    </div>
                                    <div class="flex items-center justify-end space-x-2 mt-3 pt-3 border-t border-secondary-200">
                                        <button class="text-primary hover:text-primary-700 p-2 rounded-lg hover:bg-primary-50 transition-colors">
                                            <i class="fas fa-edit"></i>
                                        </button>
                                        <button class="text-error hover:text-error-600 p-2 rounded-lg hover:bg-error-50 transition-colors">
                                            <i class="fas fa-trash"></i>
                                        </button>
                                    </div>
                                </div>

                                <div class="card p-4 transaction-card" data-swipe="enabled">
                                    <div class="flex items-center justify-between mb-2">
                                        <div class="flex items-center space-x-3">
                                            <input type="checkbox" class="transaction-select rounded border-secondary-300 text-primary focus:ring-primary-500" />
                                            <div class="bg-red-50 p-2 rounded-lg">
                                                <i class="fas fa-film text-red-500"></i>
                                            </div>
                                            <div>
                                                <p class="font-medium text-text-primary">Netflix Subscription</p>
                                                <p class="text-sm text-text-secondary">Nov 28, 2025</p>
                                            </div>
                                        </div>
                                        <div class="text-right">
                                            <p class="font-data font-semibold text-error">-₹15.99</p>
                                            <span class="inline-flex items-center px-2 py-0.5 rounded-full text-xs font-medium bg-red-100 text-red-800">
                                                Entertainment
                                            </span>
                                        </div>
                                    </div>
                                    <div class="flex items-center justify-end space-x-2 mt-3 pt-3 border-t border-secondary-200">
                                        <button class="text-primary hover:text-primary-700 p-2 rounded-lg hover:bg-primary-50 transition-colors">
                                            <i class="fas fa-edit"></i>
                                        </button>
                                        <button class="text-error hover:text-error-600 p-2 rounded-lg hover:bg-error-50 transition-colors">
                                            <i class="fas fa-trash"></i>
                                        </button>
                                    </div>
                                </div>
                            </div>
                        </div>
                    </div>
                </div>

                <!-- Load More Button -->
                <div class="text-center mt-8">
                    <button id="loadMore" class="btn-secondary px-8 py-3">
                        <i class="fas fa-spinner mr-2 hidden animate-spin" id="loadingSpinner"></i>
                        Load More Transactions
                    </button>
                </div>

                <!-- Empty State -->
                <div id="emptyState" class="hidden text-center py-12">
                    <div class="max-w-md mx-auto">
                        <img src="https://images.unsplash.com/photo-1584824486509-112e4181ff6b?q=80&w=2940&auto=format&fit=crop&ixlib=rb-4.0.3&ixid=M3wxMjA3fDB8MHxwaG90by1wYWdlfHx8fGVufDB8fHx8fA%3D%3D" alt="No transactions" class="w-32 h-32 mx-auto mb-6 rounded-full object-cover opacity-50" onerror="this.src='https://images.unsplash.com/photo-1584824486509-112e4181ff6b?q=80&w=2940&auto=format&fit=crop&ixlib=rb-4.0.3&ixid=M3wxMjA3fDB8MHxwaG90by1wYWdlfHx8fGVufDB8fHx8fA%3D%3D'; this.onerror=null;" />
                        <h3 class="text-lg font-semibold text-text-primary mb-2">No transactions found</h3>
                        <p class="text-text-secondary mb-6">Start tracking your expenses by adding your first transaction.</p>
                        <a href="add_edit_transaction.html" class="btn-primary">Add Transaction</a>
                    </div>
                </div>
            </div>
        </div>
    </main>

    <!-- Floating Action Button (Mobile) -->
    <div class="fixed bottom-6 right-6 lg:hidden z-30">
        <a href="add_edit_transaction.html" class="btn-primary w-14 h-14 rounded-full flex items-center justify-center shadow-lg hover:shadow-xl transition-all duration-200 active-scale-98">
            <i class="fas fa-plus text-xl"></i>
        </a>
    </div>

    <script>
        // Mobile menu toggle
        document.getElementById('mobileMenuToggle').addEventListener('click', function() {
            const mobileMenu = document.getElementById('mobileMenu');
            mobileMenu.classList.toggle('hidden');
        });

        // Filter sidebar toggle
        document.getElementById('filterToggle').addEventListener('click', function() {
            const sidebar = document.getElementById('filterSidebar');
            const overlay = document.getElementById('filterOverlay');
            
            sidebar.classList.toggle('-translate-x-full');
            overlay.classList.toggle('hidden');
        });

        // Close filter sidebar
        document.getElementById('closeFilter').addEventListener('click', function() {
            const sidebar = document.getElementById('filterSidebar');
            const overlay = document.getElementById('filterOverlay');
            
            sidebar.classList.add('-translate-x-full');
            overlay.classList.add('hidden');
        });

        // Close filter on overlay click
        document.getElementById('filterOverlay').addEventListener('click', function() {
            const sidebar = document.getElementById('filterSidebar');
            const overlay = document.getElementById('filterOverlay');
            
            sidebar.classList.add('-translate-x-full');
            overlay.classList.add('hidden');
        });

        // Group collapse/expand
        document.querySelectorAll('.group-header').forEach(header => {
            header.addEventListener('click', function() {
                const content = this.nextElementSibling;
                const chevron = this.querySelector('.group-chevron');
                
                content.classList.toggle('hidden');
                chevron.classList.toggle('rotate-180');
            });
        });

        // Search functionality
        function handleSearch(searchTerm) {
            const transactionCards = document.querySelectorAll('.transaction-card');
            const tableRows = document.querySelectorAll('tbody tr');
            
            // Filter cards (mobile)
            transactionCards.forEach(card => {
                const text = card.textContent.toLowerCase();
                if (text.includes(searchTerm.toLowerCase())) {
                    card.style.display = 'block';
                } else {
                    card.style.display = 'none';
                }
            });
            
            // Filter table rows (desktop)
            tableRows.forEach(row => {
                const text = row.textContent.toLowerCase();
                if (text.includes(searchTerm.toLowerCase())) {
                    row.style.display = 'table-row';
                } else {
                    row.style.display = 'none';
                }
            });
        }

        // Desktop search
        document.getElementById('searchInput').addEventListener('input', function(e) {
            const searchTerm = e.target.value;
            handleSearch(searchTerm);
            
            const clearBtn = document.getElementById('clearSearch');
            if (searchTerm) {
                clearBtn.classList.remove('hidden');
            } else {
                clearBtn.classList.add('hidden');
            }
        });

        // Mobile search
        document.getElementById('mobileSearchInput').addEventListener('input', function(e) {
            const searchTerm = e.target.value;
            handleSearch(searchTerm);
        });

        // Clear search
        document.getElementById('clearSearch').addEventListener('click', function() {
            document.getElementById('searchInput').value = '';
            handleSearch('');
            this.classList.add('hidden');
        });

        // Bulk selection
        let selectedTransactions = [];

        function updateBulkActions() {
            const bulkActions = document.getElementById('bulkActions');
            const selectedCount = document.getElementById('selectedCount');
            
            if (selectedTransactions.length > 0) {
                bulkActions.classList.remove('hidden');
                selectedCount.textContent = selectedTransactions.length;
            } else {
                bulkActions.classList.add('hidden');
            }
        }

        // Individual transaction selection
        document.querySelectorAll('.transaction-select').forEach(checkbox => {
            checkbox.addEventListener('change', function() {
                const transactionId = this.closest('tr, .transaction-card').dataset.id || Math.random().toString(36).substr(2, 9);
                
                if (this.checked) {
                    selectedTransactions.push(transactionId);
                } else {
                    selectedTransactions = selectedTransactions.filter(id => id !== transactionId);
                }
                
                updateBulkActions();
            });
        });

        // Select all functionality
        document.querySelectorAll('.select-all').forEach(checkbox => {
            checkbox.addEventListener('change', function() {
                const isChecked = this.checked;
                const group = this.closest('.transaction-group');
                const transactionCheckboxes = group.querySelectorAll('.transaction-select');
                
                transactionCheckboxes.forEach(cb => {
                    cb.checked = isChecked;
                    const transactionId = cb.closest('tr, .transaction-card').dataset.id || Math.random().toString(36).substr(2, 9);
                    
                    if (isChecked) {
                        if (!selectedTransactions.includes(transactionId)) {
                            selectedTransactions.push(transactionId);
                        }
                    } else {
                        selectedTransactions = selectedTransactions.filter(id => id !== transactionId);
                    }
                });
                
                updateBulkActions();
            });
        });

        // Clear selection
        document.getElementById('clearSelection').addEventListener('click', function() {
            selectedTransactions = [];
            document.querySelectorAll('.transaction-select, .select-all').forEach(cb => {
                cb.checked = false;
            });
            updateBulkActions();
        });

        // Export functionality
        document.getElementById('exportBtn').addEventListener('click', function() {
            // Simulate CSV export
            const csvContent = "Date,Description,Category,Amount\n" +
                              "2025-12-15,Starbucks Coffee,Food & Dining,-12.50\n" +
                              "2025-12-14,Metro Card Refill,Transportation,-25.00\n" +
                              "2025-12-13,Amazon Purchase,Shopping,-89.99\n" +
                              "2025-12-12,Salary Deposit,Income,3500.00";
            
            const blob = new Blob([csvContent], { type: 'text/csv' });
            const url = window.URL.createObjectURL(blob);
            const a = document.createElement('a');
            a.href = url;
            a.download = 'transactions.csv';
            a.click();
            window.URL.revokeObjectURL(url);
        });

        // Load more functionality
        document.getElementById('loadMore').addEventListener('click', function() {
            const spinner = document.getElementById('loadingSpinner');
            spinner.classList.remove('hidden');
            
            // Simulate loading
            setTimeout(() => {
                spinner.classList.add('hidden');
                // In a real app, you would load more transactions here
                console.log('Loading more transactions...');
            }, 1000);
        });

        // Swipe to delete on mobile
        if ('ontouchstart' in window) {
            document.querySelectorAll('.transaction-card').forEach(card => {
                let startX = 0;
                let currentX = 0;
                let isDragging = false;

                card.addEventListener('touchstart', (e) => {
                    startX = e.touches[0].clientX;
                    isDragging = true;
                });

                card.addEventListener('touchmove', (e) => {
                    if (!isDragging) return;
                    currentX = e.touches[0].clientX;
                    const diffX = currentX - startX;
                    
                    if (diffX < -50) {
                        card.style.transform = 'translateX(-50px)';
                        card.style.backgroundColor = '#FEF2F2';
                    } else {
                        card.style.transform = 'translateX(0)';
                        card.style.backgroundColor = '';
                    }
                });

                card.addEventListener('touchend', () => {
                    isDragging = false;
                    card.style.transform = 'translateX(0)';
                    card.style.backgroundColor = '';
                });
            });
        }

        // Filter functionality
        document.getElementById('applyFilters').addEventListener('click', function() {
            // Apply filters logic would go here
            console.log('Applying filters...');
            
            // Close mobile filter sidebar
            const sidebar = document.getElementById('filterSidebar');
            const overlay = document.getElementById('filterOverlay');
            sidebar.classList.add('-translate-x-full');
            overlay.classList.add('hidden');
        });

        document.getElementById('resetFilters').addEventListener('click', function() {
            // Reset all filter inputs
            document.querySelectorAll('.category-filter').forEach(cb => {
                cb.checked = cb.value === 'all';
            });
            document.getElementById('dateFrom').value = '';
            document.getElementById('dateTo').value = '';
            document.getElementById('amountMin').value = '';
            document.getElementById('amountMax').value = '';
            document.querySelector('input[name="transactionType"][value="all"]').checked = true;
            
            console.log('Filters reset');
        });

        // Sort functionality
        document.getElementById('sortBy').addEventListener('change', function() {
            const sortValue = this.value;
            console.log('Sorting by:', sortValue);
            // Sort logic would go here
        });

        // Dark mode toggle (placeholder)
        document.getElementById('darkModeToggle').addEventListener('click', function() {
            console.log('Dark mode toggled');
        });

        // Initialize page
        document.addEventListener('DOMContentLoaded', function() {
            // Set current date as default for date filters
            const today = new Date().toISOString().split('T')[0];
            const monthAgo = new Date(Date.now() - 30 * 24 * 60 * 60 * 1000).toISOString().split('T')[0];
            
            document.getElementById('dateFrom').value = monthAgo;
            document.getElementById('dateTo').value = today;
        });
    </script>
</body>
</html>